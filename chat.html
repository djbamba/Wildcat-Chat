<!doctype html>
<html>
  <head>
    <title>Chat</title>
    <style>
      #chat{ height:500px;}
      #submit {height: 20px;}
    </style>
    <link href="/css/chat.css" rel="stylesheet" type="text/css">
  </head>
  <body>
    <!-- <a href="http://localhost:3000/home">Home</a></br> -->
    <h1 style="color: #512888";>Welcome to Chat room!</h1></br>
    <div id="chat"></div>
  	<form id="send-message">
  		<input size="35" id="message"></input>
  		<input type="submit"></input>
  	</form>
    <!-- <ul id="chat-messages"></ul>
    <form id="chat-form" action="">

      <input id="chat-message" autocomplete="off" />
      <button>Send</button>

    </form> -->
    <!-- <script src="/chat.js"></script> -->
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <!-- <script src="/client/socket.io.js"></script> -->
  	<script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
<!-- TUE: 9:40-11:30 -->
    <script>
      jQuery(function($){
        // alert("xx");
        var socket = io.connect();
        var $form = $('#send-message');
        var $msgBox = $('#message');
        var $chat = $('#chat');

      $form.submit(function(e){
        e.preventDefault();
        //alert("Sent!");
        socket.emit('send message', $msgBox.val());
        $messageBox.val('');
      });

      socket.on('new message', function(data){
        console.log("Data", data);
        $chat.append(data + "<br/>");
      });
    });
 </script>
</body>
</html>
